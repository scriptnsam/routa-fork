@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================================
   Leaflet Map Fixes
   ================================ */
.leaflet-container {
  z-index: 0 !important;
  font-family: inherit;
}

.leaflet-routing-container {
  display: none !important;
}

.leaflet-control-container .leaflet-top,
.leaflet-control-container .leaflet-bottom {
  z-index: 10 !important;
}

/* Custom Marker Styles */
.custom-marker,
.custom-div-icon {
  background: transparent !important;
  border: none !important;
}

/* Fix for default marker icons */
.leaflet-default-icon-path {
  background-image: url(https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png);
}

/* Hide leaflet attribution on mobile for cleaner look */
@media (max-width: 640px) {
  .leaflet-control-attribution {
    display: none;
  }
}

/* ================================
   Custom Scrollbar
   ================================ */
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Custom styled scrollbar */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* ================================
   Animations
   ================================ */
@keyframes pulse-soft {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

@keyframes bounce-soft {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-5px);
  }
}

@keyframes slide-up {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-pulse-soft {
  animation: pulse-soft 2s ease-in-out infinite;
}

.animate-bounce-soft {
  animation: bounce-soft 2s ease-in-out infinite;
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

/* ================================
   Custom Utilities
   ================================ */

/* Gradient text */
.text-gradient {
  background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Glass effect */
.glass {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.glass-dark {
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Safe area padding for mobile */
.safe-top {
  padding-top: env(safe-area-inset-top);
}

.safe-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

/* ================================
   Button Styles
   ================================ */
.btn-primary {
  @apply bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold 
         hover:bg-blue-700 active:bg-blue-800 transition-all duration-200
         disabled:opacity-50 disabled:cursor-not-allowed;
}

.btn-secondary {
  @apply bg-gray-100 text-gray-700 px-6 py-3 rounded-xl font-semibold 
         hover:bg-gray-200 active:bg-gray-300 transition-all duration-200;
}

.btn-success {
  @apply bg-green-500 text-white px-6 py-3 rounded-xl font-semibold 
         hover:bg-green-600 active:bg-green-700 transition-all duration-200;
}

.btn-danger {
  @apply bg-red-500 text-white px-6 py-3 rounded-xl font-semibold 
         hover:bg-red-600 active:bg-red-700 transition-all duration-200;
}

/* ================================
   Card Styles
   ================================ */
.card {
  @apply bg-white rounded-2xl shadow-sm border border-gray-100;
}

.card-hover {
  @apply bg-white rounded-2xl shadow-sm border border-gray-100
         hover:shadow-lg hover:border-blue-100 transition-all duration-200;
}

/* ================================
   Input Styles
   ================================ */
.input {
  @apply w-full px-4 py-3 border border-gray-200 rounded-xl
         focus:ring-2 focus:ring-blue-500 focus:border-transparent
         outline-none transition-all duration-200
         placeholder:text-gray-400;
}

.input-error {
  @apply border-red-300 focus:ring-red-500;
}

/* ================================
   Badge Styles
   ================================ */
.badge {
  @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
}

.badge-success {
  @apply bg-green-100 text-green-700;
}

.badge-warning {
  @apply bg-yellow-100 text-yellow-700;
}

.badge-error {
  @apply bg-red-100 text-red-700;
}

.badge-info {
  @apply bg-blue-100 text-blue-700;
}

/* ================================
   Status Dot
   ================================ */
.status-dot {
  @apply w-3 h-3 rounded-full;
}

.status-dot-online {
  @apply bg-green-500 shadow-lg shadow-green-200;
}

.status-dot-offline {
  @apply bg-gray-400;
}

.status-dot-busy {
  @apply bg-yellow-500 shadow-lg shadow-yellow-200;
}

/* ================================
   Loading States
   ================================ */
.skeleton {
  @apply bg-gray-200 animate-pulse rounded;
}

.spinner {
  @apply w-5 h-5 border-2 border-gray-200 border-t-blue-600 
         rounded-full animate-spin;
}

/* ================================
   Bottom Sheet
   ================================ */
.bottom-sheet {
  @apply fixed bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-2xl z-40;
}

.bottom-sheet-handle {
  @apply w-12 h-1.5 bg-gray-300 rounded-full mx-auto my-3;
}

/* ================================
   Mobile Optimizations
   ================================ */
@media (max-width: 640px) {
  /* Prevent zoom on input focus */
  input, select, textarea {
    font-size: 16px !important;
  }
  
  /* Touch-friendly tap targets */
  button, a {
    min-height: 44px;
  }
}

/* ================================
   Dark Mode Support (Optional)
   ================================ */
@media (prefers-color-scheme: dark) {
  .dark-mode-auto {
    @apply bg-gray-900 text-white;
  }
}

/* ================================
   Print Styles
   ================================ */
@media print {
  .no-print {
    display: none !important;
  }
}